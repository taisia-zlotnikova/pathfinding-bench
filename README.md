# Pathfinding Algorithms on Grid Graphs

Реализация и сравнение классических алгоритмов поиска пути (BFS, Dijkstra, A*, WA*) на двумерном грид-графе. Ядро алгоритмов написано на **C++** для производительности, а обвязка и эксперименты — на **Python** с использованием `pybind11`.

## Установка и сборка

Используйте скрипт `setup.sh`, который автоматически создаст виртуальное окружение, установит зависимости и соберет C++ модуль.

```bash
chmod +x setup.sh
./setup.sh
source venv/bin/activate
```

## Запуск и Использование

Для запуска используется основной скрипт scripts/main.py. Убедитесь, что вы находитесь в корне проекта и виртуальное окружение активировано.

1. Массовое тестирование (Benchmark)

Запускает прогон всех алгоритмов на всех картах, находящихся в папке data/movingai/. Генерирует случайные старт и финиш для каждой карты.

```bash
# Запустить на всех картах
python3 scripts/main.py bench

# Запустить только на первых 3(k) картах (для быстрой проверки)
python3 scripts/main.py bench --limit 3
```
Вывод: Таблица с метриками (Длина пути, Кол-во раскрытых вершин, Время выполнения).

2. Визуализация (Visual)

Позволяет выбрать конкретную карту и посмотреть, как алгоритм построил путь (ASCII-графика в консоли).

```bash
python3 scripts/main.py visual --map data/movingai/arena.map
```
Необходимо прописать путь до файла от корня проекта. Особенности визуализации далее в конфиге

## Выбр конфигов
В файле `config.py` можно настраивать поведение алгоритмов.
- BENCHMARK_ALGORITHMS
    - Выбор алгоритмов для benchmark-запуска. Можно несколько. Можно разные веса у WA*.
- VISUAL_ALGOS
    - Выбор алгоритмов для визуализации.

## Тестирование
### Модульные тесты (Unit Tests)

Проверяют корректность логики алгоритмов (обход препятствий, отсутствие пути, проверка corner cutting).

```bash
python3 -m unittest tests/test_core.py
```

### Ручные сценарии

Запуск маленьких тестовых карт (лабиринты, тупики), нарисованных прямо в коде, для визуальной отладки.
```bash
python3 scripts/run_custom_scenarios.py
```

## Структура проекта
```
.
├── CMakeLists.txt          # Конфигурация сборки C++
├── setup.sh                # Скрипт автоматической установки
├── requirements.txt        # Зависимости Python
├── src/                    # Исходный код C++
│   ├── PathPlanner.h       # Заголовки
│   ├── PathPlanner.cpp     # Реализация алгоритмов
│   └── bindings.cpp        # Связка с Python (pybind11)
├── scripts/                # Python скрипты
│   ├── main.py             # Точка входа (CLI)
│   ├── run_experiments.py  # (Устаревший) скрипт экспериментов
│   ├── map_parser.py       # Парсер .map файлов
│   ├── visualizer.py       # ASCII отрисовка
│   └── run_custom_scenarios.py # Песочница для тестов
├── tests/                  # Тесты
│   └── test_core.py        # Unit-тесты
└── data/                   # Карты
    └── movingai/
```